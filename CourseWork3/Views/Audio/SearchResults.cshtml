@model List<CourseWork3.Models.AudioFile>

@{
    ViewData["Title"] = "Результаты поиска";
}

<h2>Результаты поиска</h2>

@if (!Model.Any())
{
        <p>Ничего не найдено.</p>
}
else
{
        <ul class="list-unstyled">
        @foreach (var audio in Model)
        {
                    <li class="mb-3">
                        <p><strong>@audio.Title</strong> (@audio.OriginalName)</p>
                        <p><strong>Жанр:</strong> @audio.Genre</p>
                        <p><strong>Автор:</strong> @audio.Author</p>
                        <p>Пользователь:
                    @if (!string.IsNullOrWhiteSpace(audio.User?.DisplayName))
                    {
                        @audio.User.DisplayName
                    }
                    else
                    {
                                    <em>Неизвестно</em>
                    }
                        </p>
                        <audio controls style="width: 100%; max-width: 400px;">
                            <source src="@Url.Action("Stream", "Audio", new { id = audio.Id })" type="audio/mpeg" />
                            Ваш браузер не поддерживает воспроизведение.
                        </audio>
                    </li>
        }
        </ul>
}
